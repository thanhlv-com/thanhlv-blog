<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <meta charset="utf-8">
    
    <title>Cài đặt Kafka với Zookeeper và Kraft | Yêu công nghệ - Khám Phá Công Nghệ - Thanhlv.com</title>
    
    <meta name="generator" content="VitePress v1.0.0-rc.33">
    <link rel="preload stylesheet" href="/assets/style.LovHjO5o.css" as="style">
    
    <script type="module" src="/assets/app.7HrHRTyk.js"></script>
    <link rel="preload" href="/assets/inter-roman-latin.bvIUbFQP.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/assets/chunks/framework.9xwLhOZU.js">
    <link rel="modulepreload" href="/assets/chunks/theme.SyD7j4b9.js">
    <link rel="modulepreload" href="/assets/study_thanhlv-study-2024_2024-05-16-cai-dat-kafka-voi-zookeeper-hoac-KRaft.md.79ooc3OV.lean.js">
    <link rel="prefetch" href="/assets/chunks/VPAlgoliaSearchBox.ArwAi6EW.js">
    <link rel="icon" href="/logo.svg">
    <meta name="viewport" content="viewport-fit=contain, width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=10.0, user-scalable=yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="theme-color" content="#a78a3f">
    <meta property="og:type" content="website">
    <meta name="twitter:site" content="@thanhlv">
    <meta name="twitter:card" content="summary">
    <link rel="icon" sizes="16x16" href="/images/favicon/favicon-16x16.png">
    <link rel="icon" sizes="32x32" href="/images/favicon/favicon-32x32.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/images/favicon/apple-touch-icon.png">
    <link rel="manifest" sizes="180x180" href="/images/favicon/site.webmanifest">
    <script>(()=>{const e=(o,r,t=!1)=>{const s=localStorage.getItem(o);(s?s!=="false":t)&&document.documentElement.classList.add(r)};e("vue-docs-prefer-composition","prefer-composition",!0),e("vue-docs-prefer-sfc","prefer-sfc",!0),window.__VUE_BANNER_ID__="herodevs-vue2-nes",e(`vue-docs-banner-${__VUE_BANNER_ID__}`,"banner-dismissed")})();</script>
    <script src="https://cdn.usefathom.com/script.js" data-site="XNOLWPLB" data-spa="auto" defer></script>
    <script src="https://www.googletagmanager.com/gtag/js?id=G-DHC69X8F8N" async></script>
    <script src="https://images.dmca.com/Badges/DMCABadgeHelper.min.js" async></script>
    <script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-DHC69X8F8N");</script>
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
    <meta property="og:image" content="/images/thumbnail.png" itemprop="thumbnailUrl">
    <meta property="og:url" content="study/thanhlv-study-2024/2024-05-16-cai-dat-kafka-voi-zookeeper-hoac-KRaft.html" itemprop="url">
    <meta property="og:title" content="Cài đặt Kafka với Zookeeper và Kraft" itemprop="headline">
    <meta property="og:description" content="Cài đặt Kafka với Zookeeper và Kraft" itemprop="description">
    <meta name="description" content="Cài đặt Kafka với Zookeeper và Kraft">
    <link rel="preload" href="/assets/inter-roman-latin.bvIUbFQP.woff2" as="font" type="font/woff2" crossorigin="">
  </head>
  <body>
    <div id="app"><div class="VPApp" data-v-06370823><!--[--><span tabindex="-1" data-v-e28efdbe></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-e28efdbe>Skip to content</a><!--]--><!----><!--[--><!--]--><header class="VPNav nav-bar" data-v-06370823 data-v-eb8a431b><div class="VPNavBar" data-v-eb8a431b data-v-2a04ed76><div class="container" data-v-2a04ed76><a class="VPNavBarTitle VPNavBarTitleColor" href="/" data-v-2a04ed76 data-v-8e702bed><!--[--><span class="text" data-v-8e702bed>Thanhlv</span><!--]--></a><div class="content" data-v-2a04ed76><div class="VPNavBarSearch search" data-v-2a04ed76><div id="docsearch"><button type="button" class="DocSearch DocSearch-Button" aria-label="Tìm kiếm"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Tìm kiếm</span></span><!----></button></div></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-2a04ed76 data-v-0251f2dd><span id="main-nav-aria-label" class="visually-hidden" data-v-0251f2dd>Main Navigation</span><!--[--><!--[--><a class="vt-link link VPNavBarMenuLink" href="/blog/gioi-thieu.html" data-v-0251f2dd data-v-d94b69c8><!--[-->Blog<!--]--><!----></a><!--]--><!--[--><a class="vt-link link VPNavBarMenuLink" href="/short-blog/gioi-thieu.html" data-v-0251f2dd data-v-d94b69c8><!--[-->Short Blog<!--]--><!----></a><!--]--><!--[--><div class="vt-flyout VPNavBarMenuGroup active" data-v-0251f2dd data-v-d297c9e4><button type="button" class="vt-flyout-button" aria-haspopup="true" aria-expanded="false"><!--[--><span class="vt-flyout-button-text">Study <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="vt-flyout-button-text-icon"><path d="M12,16c-0.3,0-0.5-0.1-0.7-0.3l-6-6c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l5.3,5.3l5.3-5.3c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-6,6C12.5,15.9,12.3,16,12,16z"></path></svg></span><!--]--></button><div class="vt-flyout-menu"><div class="vt-menu"><div class="vt-menu-items"><!--[--><!--[--><a class="vt-link link vt-menu-link" href="/study/thanhlv-study-2024/gioi-thieu-ve-muc-tieu-hoc-tap-be-nam-2024-cua-thanh-lv.html"><!--[-->Học tập BE Thanhlv 2024<!--]--><!----></a><!--]--><!--[--><a class="vt-link link vt-menu-link" href="/study/tieng-anh/gioi-thieu.html"><!--[-->Tiếng anh<!--]--><!----></a><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><div class="vt-flyout VPNavBarMenuGroup" data-v-0251f2dd data-v-d297c9e4><button type="button" class="vt-flyout-button" aria-haspopup="true" aria-expanded="false"><!--[--><span class="vt-flyout-button-text">About <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="vt-flyout-button-text-icon"><path d="M12,16c-0.3,0-0.5-0.1-0.7-0.3l-6-6c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l5.3,5.3l5.3-5.3c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-6,6C12.5,15.9,12.3,16,12,16z"></path></svg></span><!--]--></button><div class="vt-flyout-menu"><div class="vt-menu"><div class="vt-menu-items"><!--[--><!--[--><a class="vt-link link vt-menu-link" href="/about/author/thanhlv-vi.html"><!--[-->Thanhlv<!--]--><!----></a><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--]--><!----></nav><div class="VPNavBarAppearance appearance" data-v-2a04ed76 data-v-3e577afb><button class="vt-switch vt-switch-appearance" type="button" role="switch" aria-label="Toggle dark mode" aria-checked="false" data-v-3e577afb><span class="vt-switch-check"><span class="vt-switch-icon"><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="vt-switch-appearance-sun"><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="vt-switch-appearance-moon"><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></div><!----><div class="vt-flyout VPNavBarExtra extra" data-v-2a04ed76 data-v-449c409e><button type="button" class="vt-flyout-button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation"><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="vt-flyout-button-icon"><circle cx="12" cy="12" r="2"></circle><circle cx="19" cy="12" r="2"></circle><circle cx="5" cy="12" r="2"></circle></svg><!--]--></button><div class="vt-flyout-menu"><div class="vt-menu"><!----><!--[--><!--[--><div class="vt-menu-group" data-v-449c409e><div class="vt-menu-item item" data-v-449c409e><p class="vt-menu-label" data-v-449c409e>Appearance</p><div class="vt-menu-action action" data-v-449c409e><button class="vt-switch vt-switch-appearance" type="button" role="switch" aria-label="Toggle dark mode" aria-checked="false" data-v-449c409e><span class="vt-switch-check"><span class="vt-switch-icon"><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="vt-switch-appearance-sun"><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="vt-switch-appearance-moon"><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></div></div></div><!----><!--]--><!--]--></div></div></div><button type="button" class="vt-hamburger VPNavBarHamburger hamburger" aria-label="Mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-2a04ed76 data-v-7268c6dd><span class="vt-hamburger-container"><span class="vt-hamburger-top"></span><span class="vt-hamburger-middle"></span><span class="vt-hamburger-bottom"></span></span></button></div></div></div><!----></header><div class="VPLocalNav" data-v-06370823 data-v-5566fe4f><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-5566fe4f><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="menu-icon" data-v-5566fe4f><path d="M17,11H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,11,17,11z"></path><path d="M21,7H3C2.4,7,2,6.6,2,6s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,7,21,7z"></path><path d="M21,15H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,15,21,15z"></path><path d="M17,19H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,19,17,19z"></path></svg><span class="menu-text" data-v-5566fe4f>Menu</span></button><!----><div class="VPLocalNavOutlineDropdown" style="--vt-vh:0px;" data-v-5566fe4f data-v-f354055f><button class="" data-v-f354055f>Trên trang này <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="icon" data-v-f354055f><path d="M9,19c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l5.3-5.3L8.3,6.7c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l6,6c0.4,0.4,0.4,1,0,1.4l-6,6C9.5,18.9,9.3,19,9,19z"></path></svg></button><!----></div></div><aside class="VPSidebar" data-v-06370823 data-v-e0208b58><nav id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-e0208b58><!--[--><!--[--><!----><!--]--><!--]--><span id="sidebar-aria-label" class="visually-hidden" data-v-e0208b58>Sidebar Navigation</span><!--[--><div class="group" data-v-e0208b58><section class="VPSidebarGroup" data-v-e0208b58 data-v-c0b17f2f><div class="title" data-v-c0b17f2f><h2 class="title-text" data-v-c0b17f2f>Giới thiệu</h2></div><!--[--><a class="link" href="/study/thanhlv-study-2024/gioi-thieu-ve-muc-tieu-hoc-tap-be-nam-2024-cua-thanh-lv.html" data-v-c0b17f2f data-v-c0067341><p class="link-text" data-v-c0067341>Mục tiêu công nghệ của Thanhlv năm 2024</p></a><!--]--></section></div><div class="group" data-v-e0208b58><section class="VPSidebarGroup" data-v-e0208b58 data-v-c0b17f2f><div class="title" data-v-c0b17f2f><h2 class="title-text" data-v-c0b17f2f>1. Internet</h2></div><!--[--><a class="link" href="/study/thanhlv-study-2024/2024-03-14-Internet-Internet-hoat-dong-nhu-the-nao.html" data-v-c0b17f2f data-v-c0067341><p class="link-text" data-v-c0067341>Internet hoạt động như thế nào?</p></a><a class="link" href="/study/thanhlv-study-2024/2024-03-18-world-wide-web-la-gi.html" data-v-c0b17f2f data-v-c0067341><p class="link-text" data-v-c0067341>World wide web là gì ?</p></a><a class="link" href="/study/thanhlv-study-2024/2024-04-02-htpp-la-gi.html" data-v-c0b17f2f data-v-c0067341><p class="link-text" data-v-c0067341>HTTP là gì?</p></a><!--]--></section></div><div class="group" data-v-e0208b58><section class="VPSidebarGroup" data-v-e0208b58 data-v-c0b17f2f><div class="title" data-v-c0b17f2f><h2 class="title-text" data-v-c0b17f2f>2. Message and event stream</h2></div><!--[--><a class="link" href="/study/thanhlv-study-2024/2024-04-15-message-la-gi.html" data-v-c0b17f2f data-v-c0067341><p class="link-text" data-v-c0067341>Message là gì ?</p></a><a class="link" href="/study/thanhlv-study-2024/2024-04-15-message-queue-la-gi.html" data-v-c0b17f2f data-v-c0067341><p class="link-text" data-v-c0067341>Message queue là gì ?</p></a><a class="link" href="/study/thanhlv-study-2024/2024-04-16-event-la-gi.html" data-v-c0b17f2f data-v-c0067341><p class="link-text" data-v-c0067341>Event là gì ?</p></a><a class="link" href="/study/thanhlv-study-2024/2024-04-19-stream-la-gi.html" data-v-c0b17f2f data-v-c0067341><p class="link-text" data-v-c0067341>Stream là gì ?</p></a><a class="link" href="/study/thanhlv-study-2024/2024-04-21-event-stream-va-event-stream-platform-la-gi.html" data-v-c0b17f2f data-v-c0067341><p class="link-text" data-v-c0067341>Event stream và Event stream platform là gì ?</p></a><a class="link" href="/study/thanhlv-study-2024/2024-04-24-so-sanh-message-va-event.html" data-v-c0b17f2f data-v-c0067341><p class="link-text" data-v-c0067341>So sánh Message và Event.</p></a><!--]--></section></div><div class="group" data-v-e0208b58><section class="VPSidebarGroup" data-v-e0208b58 data-v-c0b17f2f><div class="title" data-v-c0b17f2f><h2 class="active title-text" data-v-c0b17f2f>2.1 Kafka</h2></div><!--[--><a class="link" href="/study/thanhlv-study-2024/2024-04-25-tim-hieu-lich-su-va-muc-dich-cua-kafka.html" data-v-c0b17f2f data-v-c0067341><p class="link-text" data-v-c0067341>Tìm hiểu lịch sử và mục đích của kafka</p></a><a class="link active" href="/study/thanhlv-study-2024/2024-05-16-cai-dat-kafka-voi-zookeeper-hoac-KRaft.html" data-v-c0b17f2f data-v-c0067341><p class="link-text" data-v-c0067341>Cài đặt Kafka với Zookeeper và Kraft</p></a><!--]--></section></div><!--]--><!--[--><!--]--></nav></aside><div id="VPContent" class="VPContent has-sidebar" data-v-06370823 data-v-702efdcb><div class="VPContentDoc has-aside has-sidebar" data-v-702efdcb data-v-81aadc3d><div class="container" data-v-81aadc3d><div class="aside" data-v-81aadc3d><div class="aside-container" data-v-81aadc3d><!--[--><!--]--><div class="VPContentDocOutline" data-v-81aadc3d data-v-84f7432a><div class="outline-marker" data-v-84f7432a></div><div class="outline-title" data-v-84f7432a>Trên trang này</div><nav aria-labelledby="doc-outline-aria-label" data-v-84f7432a><span id="doc-outline-aria-label" class="visually-hidden" data-v-84f7432a>Table of Contents for current page</span><ul class="root" data-v-84f7432a data-v-f0284818><!--[--><li data-v-f0284818><a class="outline-link" href="#tai-sao-kafka-can-zookeeper-hoac-kraft" style="" data-v-f0284818>Tại sao Kafka cần Zookeeper hoặc Kraft ?</a><!----></li><li data-v-f0284818><a class="outline-link" href="#zookeeper-la-gi" style="" data-v-f0284818>Zookeeper là gì ?</a><ul class="nested" data-v-f0284818 data-v-f0284818><!--[--><li data-v-f0284818><a class="outline-link" href="#cac-tinh-nang-chinh-cua-zookeeper-bao-gom" style="" data-v-f0284818>Các tính năng chính của ZooKeeper bao gồm.</a><!----></li><li data-v-f0284818><a class="outline-link" href="#setup-kafka-voi-zookeeper" style="" data-v-f0284818>Setup Kafka với Zookeeper.</a><ul class="nested" data-v-f0284818 data-v-f0284818><!--[--><li data-v-f0284818><a class="outline-link" href="#docker" style="" data-v-f0284818>Docker</a><ul class="nested" data-v-f0284818 data-v-f0284818><!--[--><li data-v-f0284818><a class="outline-link" href="#single-node" style="" data-v-f0284818>Single-node</a><!----></li><li data-v-f0284818><a class="outline-link" href="#cluster" style="" data-v-f0284818>Cluster</a><!----></li><!--]--></ul></li><!--]--></ul></li><li data-v-f0284818><a class="outline-link" href="#setup-kafka-voi-kraft" style="" data-v-f0284818>Setup Kafka với kraft.</a><ul class="nested" data-v-f0284818 data-v-f0284818><!--[--><li data-v-f0284818><a class="outline-link" href="#cluster-1" style="" data-v-f0284818>Cluster</a><!----></li><!--]--></ul></li><!--]--></ul></li><li data-v-f0284818><a class="outline-link" href="#" style="" data-v-f0284818></a><!----></li><!--]--></ul></nav></div><!--[--><!--[--><!--[--><div><a class="sponsors-aside-text">Tác giả</a><div class="VPTeamMembers small count-1" data-v-efccf3f0><div class="container" data-v-efccf3f0><!--[--><div class="item" data-v-efccf3f0><article class="VPTeamMembersItem small" data-v-efccf3f0 data-v-4c50b85b><div class="profile" data-v-4c50b85b><figure class="avatar" data-v-4c50b85b><img class="avatar-img" src="/images/avatar/thanhlv.jpg" alt="Lê Văn Thành" data-v-4c50b85b></figure><div class="data" data-v-4c50b85b><h1 class="name" data-v-4c50b85b>Lê Văn Thành</h1><p class="affiliation" data-v-4c50b85b><span class="title" data-v-4c50b85b>Java engineer và App engineer tại Line</span><!----><!----></p><!----><div class="links" data-v-4c50b85b><div class="VPSocialLinks" data-v-4c50b85b data-v-a14f2e61><!--[--><a class="VPSocialLink no-icon" href="https://github.com/lethanh9398" aria-label="github" target="_blank" rel="noopener" data-v-a14f2e61 data-v-2dba762f><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg></a><a class="VPSocialLink no-icon" href="https://linkedin.com/in/thanhlv-com" aria-label="linkedin" target="_blank" rel="noopener" data-v-a14f2e61 data-v-2dba762f><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>LinkedIn</title><path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"/></svg></a><a class="VPSocialLink no-icon" href="https://www.facebook.com/lethanh9398" aria-label="facebook" target="_blank" rel="noopener" data-v-a14f2e61 data-v-2dba762f><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>Facebook</title><path d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"/></svg></a><!--]--></div></div></div></div><!----></article></div><!--]--></div></div></div><!--]--><!--]--><!--]--><!----><!--[--><!--]--></div></div><div class="content" data-v-81aadc3d><!--[--><!--]--><main data-v-81aadc3d><div class="author" data-v-81aadc3d><div class="aside-container" style="margin:auto;text-align:center;width:auto;" data-v-81aadc3d><!--[--><!--[--><!--[--><div><a class="sponsors-aside-text">Tác giả</a><div class="VPTeamMembers small count-1" data-v-efccf3f0><div class="container" data-v-efccf3f0><!--[--><div class="item" data-v-efccf3f0><article class="VPTeamMembersItem small" data-v-efccf3f0 data-v-4c50b85b><div class="profile" data-v-4c50b85b><figure class="avatar" data-v-4c50b85b><img class="avatar-img" src="/images/avatar/thanhlv.jpg" alt="Lê Văn Thành" data-v-4c50b85b></figure><div class="data" data-v-4c50b85b><h1 class="name" data-v-4c50b85b>Lê Văn Thành</h1><p class="affiliation" data-v-4c50b85b><span class="title" data-v-4c50b85b>Java engineer và App engineer tại Line</span><!----><!----></p><!----><div class="links" data-v-4c50b85b><div class="VPSocialLinks" data-v-4c50b85b data-v-a14f2e61><!--[--><a class="VPSocialLink no-icon" href="https://github.com/lethanh9398" aria-label="github" target="_blank" rel="noopener" data-v-a14f2e61 data-v-2dba762f><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg></a><a class="VPSocialLink no-icon" href="https://linkedin.com/in/thanhlv-com" aria-label="linkedin" target="_blank" rel="noopener" data-v-a14f2e61 data-v-2dba762f><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>LinkedIn</title><path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"/></svg></a><a class="VPSocialLink no-icon" href="https://www.facebook.com/lethanh9398" aria-label="facebook" target="_blank" rel="noopener" data-v-a14f2e61 data-v-2dba762f><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>Facebook</title><path d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"/></svg></a><!--]--></div></div></div></div><!----></article></div><!--]--></div></div></div><!--]--><!--]--><!--]--></div></div><div style="position:relative;" class="vt-doc study" data-v-81aadc3d><div><h1 id="cai-đat-kafka-voi-zookeeper-va-kraft" tabindex="-1">Cài đặt Kafka với Zookeeper và Kraft <a class="header-anchor" href="#cai-đat-kafka-voi-zookeeper-va-kraft" aria-label="Permalink to &quot;Cài đặt Kafka với Zookeeper và Kraft&quot;">​</a></h1><p>Trong bài viết này, chúng ta sẽ cùng nhau bước vào hành trình khám phá Kafka đầu tiên khám phá Kafka bằng việc tìm hiểu các thành phần cần thiết để cài đặt kafka cũng như cách cài đặt kafka.</p><nav class="table-of-contents"><ul><li><a href="#tai-sao-kafka-can-zookeeper-hoac-kraft">Tại sao Kafka cần Zookeeper hoặc Kraft ?</a></li><li><a href="#zookeeper-la-gi">Zookeeper là gì ?</a><ul><li><a href="#cac-tinh-nang-chinh-cua-zookeeper-bao-gom">Các tính năng chính của ZooKeeper bao gồm.</a></li><li><a href="#setup-kafka-voi-zookeeper">Setup Kafka với Zookeeper.</a><ul><li><a href="#docker">Docker</a><ul><li><a href="#single-node">Single-node</a></li><li><a href="#cluster">Cluster</a></li></ul></li></ul></li><li><a href="#setup-kafka-voi-kraft">Setup Kafka với kraft.</a><ul><li><a href="#cluster-1">Cluster</a></li></ul></li></ul></li><li><a href="#"></a></li></ul></nav><h2 id="tai-sao-kafka-can-zookeeper-hoac-kraft" tabindex="-1">Tại sao Kafka cần Zookeeper hoặc Kraft ? <a class="header-anchor" href="#tai-sao-kafka-can-zookeeper-hoac-kraft" aria-label="Permalink to &quot;Tại sao Kafka cần Zookeeper hoặc Kraft ?&quot;">​</a></h2><p><strong>Đây là ý kiến cá nhân, là sự cảm nhận của mình nên có thể đúng hoặc sai.</strong> Một lưu ý trước tiên đó là Zookeeper là một component riêng và độc lập, còn Kraft là một thành phần nằm sẵn trong kafka từ phiên bản 2.8.0</p><p>Zookeeper hoặc Kraft đóng vai trò giúp quản lý, đồng bộ trạng thái, cấu hình của Kafka Cluster, một số khía cạnh chính khi sử dụng trong Kafka là:</p><ul><li>Quản lý metadata: Lưu trữ và quản lý các metadata liên quan đến Kafka Cluster bao gồm thông tin về Brokers, topic, partitions và replicas.</li><li>Đồng bộ há và điều phối : Đóng vai trò là người điều phối, giúp đảm bảo các Brokers trong Cluster có trạng thái nhất quán, cũng cung cấp tính năng đồng bộ hóa các cấu hình và gửi các thay đổi đến các nodes trong cluster.</li><li>Bầu Leader Partition: Bầu chọn Leader cho các Partition đảm bảo mỗi Partition có một Leader để xử lý yêu cầu ghi và đọc.</li><li>Quản lý trạng thái của Brokers: Zookeeper theo dõi trạng thái hoạt động của các Broker trong Cluster thông qua cơ chế chế <a href="https://demanejar.github.io/posts/hdfs-introduction/#:~:text=C%C6%A1%20ch%E1%BA%BF%20heartbeat,datanode%20%C4%91%C3%B3%20c%C3%B2n%20ho%E1%BA%A1t%20%C4%91%E1%BB%99ng." target="_blank" rel="noreferrer">heartbeat</a><ul><li>Khi một brokers định kỳ không gửi trạng thái báo cáo đang hoạt động đến Zookeeper, Zookeeper coi broker đó là đã chết và thông báo cho các Brokers khác trong Cluster để cho các brokers khác biết và thực hiện các thao tác phục hồi cần thiết.</li></ul></li><li>Rebalancing: Khi có sự thêm hoặc loại bỏ một brokers trong cluster, Zookeeper giúp điều phối quá trình rebalancing, đảm bảo dữ liệu được phân phối trên các Broker và các partition được sao chép.</li></ul><h2 id="zookeeper-la-gi" tabindex="-1">Zookeeper là gì ? <a class="header-anchor" href="#zookeeper-la-gi" aria-label="Permalink to &quot;Zookeeper là gì ?&quot;">​</a></h2><p><img src="/assets/Zookeeper-Architecture.8lJf2JgC.png" alt="Zookeeper-Architecture"> Zookeeper là một open source cho centralized service để duy trì thông tin cấu hình, đặt tên và cung cấp đồng bộ hóa cho các ứng dụng phân tán.</p><p>Zookeeper Cho phép các process phân tán phối hợp với nhau thông qua một Share hierarchical namespace(Chia sẽ hệ thống tệp phân cấp), nó giống như một <a href="https://vi.wikipedia.org/wiki/H%E1%BB%87_th%E1%BB%91ng_t%E1%BA%ADp_tin" target="_blank" rel="noreferrer">File system</a><img src="/assets/what-is-file-system-1.7kyHZ5Bz.png" alt="what-is-file-system-1.png"> Trong đó mỗi một folder trong Share hierarchical namespace được gọi là Znodes. Mỗi Znodes trong Zookeeper name space được xác định bởi một path. Và mọi Znodes đều có cha mẹ có đường dẫn là prefix của Znodes hiện tại. Ngoại lệ duy nhaast là Root(&quot;/&quot;) sẽ không có cha mẹ.</p><details class="details custom-block"><summary>Ví dụ về Znodes</summary><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>/opt/containerd/lib/</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>Nhìn vào đường dẫn ở trên chúng ta có thể nhận thấy là đang có 4 Znodes.</p><ol><li>Znode Root chính là &quot;/&quot; đầu tiên từ trái qua phải, Znodes đầu tiên chứa các con là &quot;opt&quot; và có thể có nhiều con khác nữa.</li><li>Znode thứ 2 trong phân cấp có cha là <strong>Root</strong> là <strong>Opt</strong></li><li>Znode thứ 3 trong phân cấp có cha là <strong>opt</strong> là <strong>containerd</strong></li><li>Znode thứ 4 trong phân cấp có cha là <strong>containerd</strong> là <strong>lib</strong></li></ol></details><p>Và giống như các <a href="https://vi.wikipedia.org/wiki/H%E1%BB%87_th%E1%BB%91ng_t%E1%BA%ADp_tin" target="_blank" rel="noreferrer">File system</a> khác,Znode cha không thể bị xóa nếu có các Znode con. Vì vậy muốn xóa Znode cha thì tất cả các Znode con cũng sẽ bị xóa.</p><p>Và Zookeeper để duy trì thông tin cấu hình, vì vậy các data trong Znode thường đo bằng kilobyte, thậm chí là byte.</p><details class="details custom-block"><summary>REF</summary><p><a href="https://cwiki.apache.org/confluence/display/ZOOKEEPER/ProjectDescription" target="_blank" rel="noreferrer">https://cwiki.apache.org/confluence/display/ZOOKEEPER/ProjectDescription</a></p></details><h3 id="cac-tinh-nang-chinh-cua-zookeeper-bao-gom" tabindex="-1">Các tính năng chính của ZooKeeper bao gồm. <a class="header-anchor" href="#cac-tinh-nang-chinh-cua-zookeeper-bao-gom" aria-label="Permalink to &quot;Các tính năng chính của ZooKeeper bao gồm.&quot;">​</a></h3><ul><li><strong>Đồng bộ hóa</strong>: Zookeeper giúp đồng bộ hóa trạng thái giữa các node trong hệ thống phân tán, đảm bảo tất cả các node đều có dữ liệu nhất quán.</li><li><strong>Đặt tên và cấu hình service</strong>: ZooKeeper cung cấp một không gian tên phân cấp (giống như cấu trúc thư mục trong hệ thống tập tin) để lưu trữ và quản lý thông tin cấu hình, giúp các ứng dụng truy cập và quản lý cấu hình một cách dễ dàng.</li><li><strong>Service discovery</strong>: Zookeeper có thể đụược sử dụng để theo dõi các node trong một cụm và quản lý thông tin về các service đang chạy trên các node đó, giúp các ứng dụng khác tìm và sử dụng các service này một cách hiệu quả.</li><li><strong>Session Management</strong>: Zookeeper quản lý các session cho các client kết nối đến nó. Mỗi client sẽ có một session làm việc riêng với Zookeeper và Zookeeper đảm bảo rằng trạng thái được duy trì liên tục vào Session đó. <ul><li>Nếu một client mất kết nối, Zookeeper có thể phát hiện và xử lý tình huống đó và đồng thời thông báo cho các client khác về sự thay đổi trạng thái.</li></ul></li><li><strong>Nhất quán dữ liệu giữa các node</strong>: <ul><li>Zookeeper đảm bảo tính nhất quán của dữ liệu thông qua một thuật toán tên là : Zab (ZooKeeper Atomic Broadcast) thuật toán này đảm bảo rằng tất cả các thay đổi đối với cấu trúc dữ liệu của Zookeeper được áp dụng một cách đồng bộ trên tất cả các Node trong cụm.</li></ul></li><li><strong>Cơ chế Watchers</strong>: Cơ chế này cho phép các client đăng ký nhận thông báo khi có sự thay đổi đối với dữ liệu mà họ quan tâm. Khi có dữ liệu tại một znode thay đổi, các client đăng ký watcher sẽ nhận đưược thông báo, điều này giúp các ứng dụng phản ứng nhanh chóng với các thay đổi trong cấu hình hoặc trạng thái của hệ thống</li></ul><p><img src="/assets/Zookeeper-Architecture.8lJf2JgC.png" alt="Zookeeper-Architecture"> Zookeeper duy trì một cấu chúc dữ liệu phân cấp và lưu trữ các dữ liệu trong các Node gọi là Znodes. Mỗi Znodes có thể chứa dữ liệu và có thể có các Znode con. Zookeeper đảm bảo rằng tất cả các bản sao của cơ sở dữ liệu các nó trên các node(Node zookeeper) khác nhau đều được cập nhật với trạng thái nhất quán.</p><h3 id="setup-kafka-voi-zookeeper" tabindex="-1">Setup Kafka với Zookeeper. <a class="header-anchor" href="#setup-kafka-voi-zookeeper" aria-label="Permalink to &quot;Setup Kafka với Zookeeper.&quot;">​</a></h3><p>Chúng ta sẽ tìm hiểu cách setup thông qua docker và cài trực tiếp trên máy chủ.</p><p>Mỗi loại sẽ có setup kiểu single-node(Dành cho môi trường phát triển local) và cluster dành cho môi trường Release.</p><p>Tuy nhiên vì là học tập nên tại thời điểm này mình sẽ học cài với docker, cài trực tiếp trên máy chủ mình sẽ cập nhật sau.</p><h4 id="docker" tabindex="-1">Docker <a class="header-anchor" href="#docker" aria-label="Permalink to &quot;Docker&quot;">​</a></h4><h5 id="single-node" tabindex="-1">Single-node <a class="header-anchor" href="#single-node" aria-label="Permalink to &quot;Single-node&quot;">​</a></h5><p>docker-compose.yml</p><div class="language-docker-compose.yml vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">docker-compose.yml</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>version: &#39;3&#39;</span></span>
<span class="line"><span>services:</span></span>
<span class="line"><span>  zookeeper:</span></span>
<span class="line"><span>    image: confluentinc/cp-zookeeper:7.4.4</span></span>
<span class="line"><span>    environment:</span></span>
<span class="line"><span>      ZOOKEEPER_CLIENT_PORT: 2181</span></span>
<span class="line"><span>      ZOOKEEPER_TICK_TIME: 2000</span></span>
<span class="line"><span>    ports:</span></span>
<span class="line"><span>      - 22181:2181</span></span>
<span class="line"><span>    volumes:</span></span>
<span class="line"><span>      - ./data/zoo/data:/var/lib/zookeeper/data</span></span>
<span class="line"><span>      - ./data/zoo/log:/var/lib/zookeeper/log</span></span>
<span class="line"><span>  kafka:</span></span>
<span class="line"><span>    image: confluentinc/cp-kafka:7.4.4</span></span>
<span class="line"><span>    depends_on:</span></span>
<span class="line"><span>      - zookeeper</span></span>
<span class="line"><span>    ports:</span></span>
<span class="line"><span>      - 29092:29092</span></span>
<span class="line"><span>    environment:</span></span>
<span class="line"><span>      KAFKA_BROKER_ID: 1</span></span>
<span class="line"><span>      KAFKA_ZOOKEEPER_CONNECT: zookeeper:2181</span></span>
<span class="line"><span>      KAFKA_ADVERTISED_LISTENERS: PLAINTEXT://kafka:9092,PLAINTEXT_HOST://localhost:29092</span></span>
<span class="line"><span>      KAFKA_LISTENER_SECURITY_PROTOCOL_MAP: PLAINTEXT:PLAINTEXT,PLAINTEXT_HOST:PLAINTEXT</span></span>
<span class="line"><span>      KAFKA_INTER_BROKER_LISTENER_NAME: PLAINTEXT</span></span>
<span class="line"><span>      KAFKA_OFFSETS_TOPIC_REPLICATION_FACTOR: 1</span></span>
<span class="line"><span>    volumes:</span></span>
<span class="line"><span>      - ./data/broker/data:/var/lib/kafka/data</span></span>
<span class="line"><span>  init-topic-kafka:</span></span>
<span class="line"><span>    image: confluentinc/cp-kafka:7.4.4</span></span>
<span class="line"><span>    depends_on:</span></span>
<span class="line"><span>      - kafka</span></span>
<span class="line"><span>    entrypoint: [ &#39;/bin/sh&#39;, &#39;-c&#39; ]</span></span>
<span class="line"><span>    command: |</span></span>
<span class="line"><span>      &quot;</span></span>
<span class="line"><span>      # sleep 15</span></span>
<span class="line"><span>      sleep 15</span></span>
<span class="line"><span>      # blocks until kafka is reachable</span></span>
<span class="line"><span>      kafka-topics --bootstrap-server kafka:9092 --list</span></span>
<span class="line"><span>      </span></span>
<span class="line"><span>      echo -e &#39;Creating kafka topics&#39;</span></span>
<span class="line"><span>      kafka-topics --bootstrap-server kafka:9092 --create --if-not-exists --topic my-topic-2 --replication-factor 1 --partitions 1</span></span>
<span class="line"><span>      </span></span>
<span class="line"><span>      echo -e &#39;Successfully created the following topics:&#39;</span></span>
<span class="line"><span>      kafka-topics --bootstrap-server kafka:9092 --list</span></span>
<span class="line"><span>      &quot;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br></div></div><h5 id="cluster" tabindex="-1">Cluster <a class="header-anchor" href="#cluster" aria-label="Permalink to &quot;Cluster&quot;">​</a></h5><p>docker-compose.yml</p><p>Thực tế khi setup Cluster thì các Kafka không kết nối trực tiếp đến nhau, Để setup thành một Cluster thì có 2 cách sau.</p><ol><li>Tất cả Kafka node cùng kết nối đến một <code>zookeeper</code>. <img src="/assets/apache-kafka-architecture.yEcbMpIL.webp" alt="apache-kafka-architecture.webp"></li><li>Tạo các Cluster <code>zookeeper</code>. Khi Kafka kết nối đên Cluster bằng cách kết nối 1-N các Node ở zookeeper trong Cluster <code>zookeeper</code>.</li><li>Thông thường Kafka sẽ kết nối đến tất cả các node <code>zookeeper</code> và số node <code>zookeeper</code> hiếm khi hay đổi.</li></ol><div class="language-docker-compose.yml vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">docker-compose.yml</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>version: &#39;3&#39;</span></span>
<span class="line"><span>services:</span></span>
<span class="line"><span>  zookeeper-1:</span></span>
<span class="line"><span>    image: confluentinc/cp-zookeeper:7.4.4</span></span>
<span class="line"><span>    container_name: &quot;zookeeper-1&quot;</span></span>
<span class="line"><span>    environment:</span></span>
<span class="line"><span>      ZOOKEEPER_CLIENT_PORT: 2181</span></span>
<span class="line"><span>      ZOOKEEPER_TICK_TIME: 2000</span></span>
<span class="line"><span>      ZOOKEEPER_SERVER_ID: 1</span></span>
<span class="line"><span>      ZOOKEEPER_SERVERS: zookeeper-1:2888:3888;zookeeper-2:2888:3888</span></span>
<span class="line"><span>    ports:</span></span>
<span class="line"><span>      - 22181:2181</span></span>
<span class="line"><span>    volumes:</span></span>
<span class="line"><span>      - ./data/zoo_1/data:/var/lib/zookeeper/data</span></span>
<span class="line"><span>      - ./data/zoo_1/log:/var/lib/zookeeper/log</span></span>
<span class="line"><span>    networks:</span></span>
<span class="line"><span>      - example-network</span></span>
<span class="line"><span>  zookeeper-2:</span></span>
<span class="line"><span>    image: confluentinc/cp-zookeeper:7.4.4</span></span>
<span class="line"><span>    container_name: &quot;zookeeper-2&quot;</span></span>
<span class="line"><span>    environment:</span></span>
<span class="line"><span>      ZOOKEEPER_CLIENT_PORT: 2181</span></span>
<span class="line"><span>      ZOOKEEPER_TICK_TIME: 2000</span></span>
<span class="line"><span>      ZOOKEEPER_SERVER_ID: 2</span></span>
<span class="line"><span>      ZOOKEEPER_SERVERS: zookeeper-1:2888:3888;zookeeper-2:2888:3888</span></span>
<span class="line"><span>    ports:</span></span>
<span class="line"><span>      - 22182:2181</span></span>
<span class="line"><span>    volumes:</span></span>
<span class="line"><span>      - ./data/zoo_2/data:/var/lib/zookeeper/data</span></span>
<span class="line"><span>      - ./data/zoo_2/log:/var/lib/zookeeper/log</span></span>
<span class="line"><span>    networks:</span></span>
<span class="line"><span>      - example-network</span></span>
<span class="line"><span>  kafka-1:</span></span>
<span class="line"><span>    image: confluentinc/cp-kafka:7.4.4</span></span>
<span class="line"><span>    container_name: &quot;kafka-1&quot;</span></span>
<span class="line"><span>    depends_on:</span></span>
<span class="line"><span>      - zookeeper-1</span></span>
<span class="line"><span>    ports:</span></span>
<span class="line"><span>      - 29092:29092</span></span>
<span class="line"><span>    environment:</span></span>
<span class="line"><span>      KAFKA_BROKER_ID: 1</span></span>
<span class="line"><span>      KAFKA_ZOOKEEPER_CONNECT: zookeeper-1:2181</span></span>
<span class="line"><span>      KAFKA_ADVERTISED_LISTENERS: PLAINTEXT://kafka-1:9092,PLAINTEXT_HOST://localhost:29092</span></span>
<span class="line"><span>      KAFKA_LISTENER_SECURITY_PROTOCOL_MAP: PLAINTEXT:PLAINTEXT,PLAINTEXT_HOST:PLAINTEXT</span></span>
<span class="line"><span>      KAFKA_INTER_BROKER_LISTENER_NAME: PLAINTEXT</span></span>
<span class="line"><span>      KAFKA_OFFSETS_TOPIC_REPLICATION_FACTOR: 1</span></span>
<span class="line"><span>    volumes:</span></span>
<span class="line"><span>      - ./data/broker-1/data:/var/lib/kafka/data</span></span>
<span class="line"><span>    networks:</span></span>
<span class="line"><span>      - example-network</span></span>
<span class="line"><span>  kafka-2:</span></span>
<span class="line"><span>    image: confluentinc/cp-kafka:7.4.4</span></span>
<span class="line"><span>    container_name: &quot;kafka-2&quot;</span></span>
<span class="line"><span>    depends_on:</span></span>
<span class="line"><span>      - zookeeper-2</span></span>
<span class="line"><span>    ports:</span></span>
<span class="line"><span>      - 29093:29093</span></span>
<span class="line"><span>    environment:</span></span>
<span class="line"><span>      KAFKA_BROKER_ID: 2</span></span>
<span class="line"><span>      KAFKA_ZOOKEEPER_CONNECT: zookeeper-2:2181</span></span>
<span class="line"><span>      KAFKA_ADVERTISED_LISTENERS: PLAINTEXT://kafka-2:9092,PLAINTEXT_HOST://localhost:29093</span></span>
<span class="line"><span>      KAFKA_LISTENER_SECURITY_PROTOCOL_MAP: PLAINTEXT:PLAINTEXT,PLAINTEXT_HOST:PLAINTEXT</span></span>
<span class="line"><span>      KAFKA_INTER_BROKER_LISTENER_NAME: PLAINTEXT</span></span>
<span class="line"><span>      KAFKA_OFFSETS_TOPIC_REPLICATION_FACTOR: 1</span></span>
<span class="line"><span>    volumes:</span></span>
<span class="line"><span>      - ./data/broker-2/data:/var/lib/kafka/data</span></span>
<span class="line"><span>    networks:</span></span>
<span class="line"><span>      - example-network</span></span>
<span class="line"><span>  init-kafka:</span></span>
<span class="line"><span>    image: confluentinc/cp-kafka:7.4.4</span></span>
<span class="line"><span>    networks:</span></span>
<span class="line"><span>      - example-network</span></span>
<span class="line"><span>    entrypoint: [ &#39;/bin/sh&#39;, &#39;-c&#39; ]</span></span>
<span class="line"><span>    command: |</span></span>
<span class="line"><span>      &quot;</span></span>
<span class="line"><span>      # sleep 15</span></span>
<span class="line"><span>      # sleep 15</span></span>
<span class="line"><span>      # blocks until kafka is reachable</span></span>
<span class="line"><span>      kafka-topics --bootstrap-server kafka-1:9092 --list</span></span>
<span class="line"><span>      </span></span>
<span class="line"><span>      echo -e &#39;Creating kafka topics&#39;</span></span>
<span class="line"><span>      kafka-topics --bootstrap-server kafka-2:9091 --create --if-not-exists --topic my-topic-2 --replication-factor 2 --partitions 5</span></span>
<span class="line"><span>      </span></span>
<span class="line"><span>      echo -e &#39;Successfully created the following topics:&#39;</span></span>
<span class="line"><span>      kafka-topics --bootstrap-server kafka-1:9092 --list</span></span>
<span class="line"><span>      &quot;</span></span>
<span class="line"><span>networks:</span></span>
<span class="line"><span>  example-network:</span></span>
<span class="line"><span>    external: true</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br></div></div><h3 id="setup-kafka-voi-kraft" tabindex="-1">Setup Kafka với kraft. <a class="header-anchor" href="#setup-kafka-voi-kraft" aria-label="Permalink to &quot;Setup Kafka với kraft.&quot;">​</a></h3><p><a href="https://docs.confluent.io/platform/current/installation/docker/config-reference.html#required-ak-configurations-for-kraft-mode" target="_blank" rel="noreferrer">https://docs.confluent.io/platform/current/installation/docker/config-reference.html#required-ak-configurations-for-kraft-mode</a></p><h5 id="cluster-1" tabindex="-1">Cluster <a class="header-anchor" href="#cluster-1" aria-label="Permalink to &quot;Cluster&quot;">​</a></h5><p>create_cluster_id.sh Tạo ngẫu nhiên ID cụm</p><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>/bin/bash</span></span>
<span class="line"><span></span></span>
<span class="line"><span>file_path=&quot;/tmp/clusterID/clusterID&quot;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>if [ ! -f &quot;$file_path&quot; ]; then</span></span>
<span class="line"><span>  /bin/kafka-storage random-uuid &gt; /tmp/clusterID/clusterID</span></span>
<span class="line"><span>  echo &quot;Cluster id has been  created...&quot;</span></span>
<span class="line"><span>fi</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>Thực hiện chạy cụm, như tài liệu ở trên có nói, để xác định chạy cụm với Zookeeper hay Kraft thì sẽ có 1 số biến cần config để xác định đó là Kraft, nếu không mặc định sẽ là Zookeeper.</p><ul><li><code>KAFKA_PROCESS_ROLES</code>, <code>KAFKA_NODE_ID</code>, <code>KAFKA_CONTROLLER_QUORUM_VOTERS</code>, <code>KAFKA_CONTROLLER_LISTENER_NAMES</code> và <code>CLUSTER_ID</code> nếu dùng biến môi trường hoặc có thể dùng file trên máy chủ.</li></ul><p>docker-compose.yml</p><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>version: &quot;3&quot;</span></span>
<span class="line"><span>services:</span></span>
<span class="line"><span>#  kafka-gen:</span></span>
<span class="line"><span>#    image: confluentinc/cp-kafka:7.4.4</span></span>
<span class="line"><span>#    hostname: kafka-gen</span></span>
<span class="line"><span>#    container_name: kafka-gen</span></span>
<span class="line"><span>#    volumes:</span></span>
<span class="line"><span>#      - ./scripts/create_cluster_id.sh:/tmp/create_cluster_id.sh</span></span>
<span class="line"><span>#      - ./clusterID:/tmp/clusterID</span></span>
<span class="line"><span>#    command: &quot;bash -c &#39;/tmp/create_cluster_id.sh&#39;&quot;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>  kafka1:</span></span>
<span class="line"><span>    image: confluentinc/cp-kafka:7.4.4</span></span>
<span class="line"><span>    hostname: kafka1</span></span>
<span class="line"><span>    container_name: kafka1</span></span>
<span class="line"><span>    ports:</span></span>
<span class="line"><span>      - &quot;39092:39092&quot;</span></span>
<span class="line"><span>    environment:</span></span>
<span class="line"><span>      KAFKA_LISTENERS: BROKER://kafka1:19092,EXTERNAL://kafka1:39092,CONTROLLER://kafka1:9093</span></span>
<span class="line"><span>      KAFKA_ADVERTISED_LISTENERS: BROKER://kafka1:19092,EXTERNAL://localhost:39092</span></span>
<span class="line"><span>      KAFKA_INTER_BROKER_LISTENER_NAME: BROKER</span></span>
<span class="line"><span>      KAFKA_CONTROLLER_LISTENER_NAMES: CONTROLLER</span></span>
<span class="line"><span>      KAFKA_LISTENER_SECURITY_PROTOCOL_MAP: CONTROLLER:PLAINTEXT,BROKER:PLAINTEXT,EXTERNAL:PLAINTEXT</span></span>
<span class="line"><span>      KAFKA_GROUP_INITIAL_REBALANCE_DELAY_MS: 0</span></span>
<span class="line"><span>      KAFKA_PROCESS_ROLES: &#39;controller,broker&#39;</span></span>
<span class="line"><span>      KAFKA_NODE_ID: 1</span></span>
<span class="line"><span>      KAFKA_CONTROLLER_QUORUM_VOTERS: &#39;1@kafka1:9093,2@kafka2:9093,3@kafka3:9093&#39;</span></span>
<span class="line"><span>      KAFKA_METADATA_LOG_SEGMENT_MS: 15000</span></span>
<span class="line"><span>      KAFKA_METADATA_MAX_RETENTION_MS: 1200000</span></span>
<span class="line"><span>      KAFKA_METADATA_LOG_MAX_RECORD_BYTES_BETWEEN_SNAPSHOTS: 2800</span></span>
<span class="line"><span>      KAFKA_LOG_DIRS: &#39;/tmp/kraft-combined-logs&#39;</span></span>
<span class="line"><span>      CLUSTER_ID: &#39;LLvEj5aqR46S0qSIwFUhyw&#39;</span></span>
<span class="line"><span>    volumes:</span></span>
<span class="line"><span>      - ./data/broker-1/data:/var/lib/kafka/data</span></span>
<span class="line"><span>    command: &quot;bash -c &#39;/etc/confluent/docker/run&#39;&quot;</span></span>
<span class="line"><span>    networks:</span></span>
<span class="line"><span>      - example-network</span></span>
<span class="line"><span></span></span>
<span class="line"><span>  kafka2:</span></span>
<span class="line"><span>    image: confluentinc/cp-kafka:7.4.4</span></span>
<span class="line"><span>    hostname: kafka2</span></span>
<span class="line"><span>    container_name: kafka2</span></span>
<span class="line"><span>    ports:</span></span>
<span class="line"><span>      - &quot;39093:39093&quot;</span></span>
<span class="line"><span>    environment:</span></span>
<span class="line"><span>      KAFKA_LISTENERS: BROKER://kafka2:19093,EXTERNAL://kafka2:39093,CONTROLLER://kafka2:9093</span></span>
<span class="line"><span>      KAFKA_ADVERTISED_LISTENERS: BROKER://kafka2:19093,EXTERNAL://localhost:39093</span></span>
<span class="line"><span>      KAFKA_INTER_BROKER_LISTENER_NAME: BROKER</span></span>
<span class="line"><span>      KAFKA_CONTROLLER_LISTENER_NAMES: CONTROLLER</span></span>
<span class="line"><span>      KAFKA_LISTENER_SECURITY_PROTOCOL_MAP: CONTROLLER:PLAINTEXT,BROKER:PLAINTEXT,EXTERNAL:PLAINTEXT</span></span>
<span class="line"><span>      KAFKA_GROUP_INITIAL_REBALANCE_DELAY_MS: 0</span></span>
<span class="line"><span>      KAFKA_PROCESS_ROLES: &#39;controller,broker&#39;</span></span>
<span class="line"><span>      KAFKA_NODE_ID: 2</span></span>
<span class="line"><span>      KAFKA_CONTROLLER_QUORUM_VOTERS: &#39;1@kafka1:9093,2@kafka2:9093,3@kafka3:9093&#39;</span></span>
<span class="line"><span>      KAFKA_METADATA_LOG_SEGMENT_MS: 15000</span></span>
<span class="line"><span>      KAFKA_METADATA_MAX_RETENTION_MS: 1200000</span></span>
<span class="line"><span>      KAFKA_METADATA_LOG_MAX_RECORD_BYTES_BETWEEN_SNAPSHOTS: 2800</span></span>
<span class="line"><span>      KAFKA_LOG_DIRS: &#39;/tmp/kraft-combined-logs&#39;</span></span>
<span class="line"><span>      CLUSTER_ID: &#39;LLvEj5aqR46S0qSIwFUhyw&#39;</span></span>
<span class="line"><span>    volumes:</span></span>
<span class="line"><span>      - ./data/broker-2/data:/var/lib/kafka/data</span></span>
<span class="line"><span>    command: &quot;bash -c &#39;/etc/confluent/docker/run&#39;&quot;</span></span>
<span class="line"><span>    networks:</span></span>
<span class="line"><span>      - example-network</span></span>
<span class="line"><span></span></span>
<span class="line"><span>  kafka3:</span></span>
<span class="line"><span>    image: confluentinc/cp-kafka:7.4.4</span></span>
<span class="line"><span>    hostname: kafka3</span></span>
<span class="line"><span>    container_name: kafka3</span></span>
<span class="line"><span>    ports:</span></span>
<span class="line"><span>      - &quot;39094:39094&quot;</span></span>
<span class="line"><span>    environment:</span></span>
<span class="line"><span>      KAFKA_LISTENERS: BROKER://kafka3:19094,EXTERNAL://kafka3:39094,CONTROLLER://kafka3:9093</span></span>
<span class="line"><span>      KAFKA_ADVERTISED_LISTENERS: BROKER://kafka3:19094,EXTERNAL://localhost:39094</span></span>
<span class="line"><span>      KAFKA_INTER_BROKER_LISTENER_NAME: BROKER</span></span>
<span class="line"><span>      KAFKA_CONTROLLER_LISTENER_NAMES: CONTROLLER</span></span>
<span class="line"><span>      KAFKA_LISTENER_SECURITY_PROTOCOL_MAP: CONTROLLER:PLAINTEXT,BROKER:PLAINTEXT,EXTERNAL:PLAINTEXT</span></span>
<span class="line"><span>      KAFKA_GROUP_INITIAL_REBALANCE_DELAY_MS: 0</span></span>
<span class="line"><span>      KAFKA_PROCESS_ROLES: &#39;controller,broker&#39;</span></span>
<span class="line"><span>      KAFKA_NODE_ID: 3</span></span>
<span class="line"><span>      KAFKA_CONTROLLER_QUORUM_VOTERS: &#39;1@kafka1:9093,2@kafka2:9093,3@kafka3:9093&#39;</span></span>
<span class="line"><span>      KAFKA_METADATA_LOG_SEGMENT_MS: 15000</span></span>
<span class="line"><span>      KAFKA_METADATA_MAX_RETENTION_MS: 1200000</span></span>
<span class="line"><span>      KAFKA_METADATA_LOG_MAX_RECORD_BYTES_BETWEEN_SNAPSHOTS: 2800</span></span>
<span class="line"><span>      KAFKA_LOG_DIRS: &#39;/tmp/kraft-combined-logs&#39;</span></span>
<span class="line"><span>      CLUSTER_ID: &#39;LLvEj5aqR46S0qSIwFUhyw&#39;</span></span>
<span class="line"><span>    volumes:</span></span>
<span class="line"><span>      - ./data/broker-3/data:/var/lib/kafka/data</span></span>
<span class="line"><span>    command: &quot;bash -c &#39;/etc/confluent/docker/run&#39;&quot;</span></span>
<span class="line"><span>    networks:</span></span>
<span class="line"><span>      - example-network</span></span>
<span class="line"><span>  kafka-ui:</span></span>
<span class="line"><span>    container_name: kafka-ui</span></span>
<span class="line"><span>    restart: unless-stopped</span></span>
<span class="line"><span>    image: &#39;provectuslabs/kafka-ui:latest&#39;</span></span>
<span class="line"><span>    ports:</span></span>
<span class="line"><span>      - &quot;8080:8080&quot;</span></span>
<span class="line"><span>    environment:</span></span>
<span class="line"><span>      - KAFKA_CLUSTERS_0_BOOTSTRAP_SERVERS=localhost:39092,localhost:39093,localhost:39094</span></span>
<span class="line"><span>      - KAFKA_CLUSTERS_0_NAME=LLvEj5aqR46S0qSIwFUhyw</span></span>
<span class="line"><span>    networks:</span></span>
<span class="line"><span>      - example-network</span></span>
<span class="line"><span>networks:</span></span>
<span class="line"><span>  example-network:</span></span>
<span class="line"><span>    external: true</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br><span class="line-number">98</span><br><span class="line-number">99</span><br><span class="line-number">100</span><br><span class="line-number">101</span><br><span class="line-number">102</span><br><span class="line-number">103</span><br><span class="line-number">104</span><br><span class="line-number">105</span><br></div></div><ul><li>Các file config sẽ nằm ở trong folder <code>/etc/kafka/</code><img src="/assets/kafka-folder-config.Ryz4Nmzs.png" alt="kafka-folder-config.png"></li></ul><h2 id="" tabindex="-1"><a class="header-anchor" href="#" aria-label="Permalink to &quot;&quot;">​</a></h2><p>Trong bài viết này mình sẽ chỉ làm đơn giản về cách thứ setup Kafka, mình sẽ có một bài khác nói về chi tiết các cách thức cài đặt kafka cũng như ưu và nhược điểm.</p><h1 id="ref" tabindex="-1">REF: <a class="header-anchor" href="#ref" aria-label="Permalink to &quot;REF:&quot;">​</a></h1><ul><li><a href="https://www.baeldung.com/ops/kafka-docker-setup" target="_blank" rel="noreferrer">https://www.baeldung.com/ops/kafka-docker-setup</a></li><li><a href="https://viblo.asia/p/007-simple-kafka-producer-client-api-voi-java-WAyK86PplxX" target="_blank" rel="noreferrer">https://viblo.asia/p/007-simple-kafka-producer-client-api-voi-java-WAyK86PplxX</a></li><li><a href="https://stackoverflow.com/questions/61002881/docker-compose-doesnt-save-data-in-volume/61008432#61008432" target="_blank" rel="noreferrer">https://stackoverflow.com/questions/61002881/docker-compose-doesnt-save-data-in-volume/61008432#61008432</a></li><li>Kafka tool view: <a href="https://kafkatool.com/" target="_blank" rel="noreferrer">https://kafkatool.com/</a></li><li><a href="https://aws.amazon.com/blogs/big-data/best-practices-for-running-apache-kafka-on-aws/" target="_blank" rel="noreferrer">https://aws.amazon.com/blogs/big-data/best-practices-for-running-apache-kafka-on-aws/</a></li></ul></div></div><div class="author" data-v-81aadc3d><div class="aside-container" style="margin:auto;text-align:center;width:auto;" data-v-81aadc3d><!--[--><!--[--><!--[--><div><a class="sponsors-aside-text">Tác giả</a><div class="VPTeamMembers small count-1" data-v-efccf3f0><div class="container" data-v-efccf3f0><!--[--><div class="item" data-v-efccf3f0><article class="VPTeamMembersItem small" data-v-efccf3f0 data-v-4c50b85b><div class="profile" data-v-4c50b85b><figure class="avatar" data-v-4c50b85b><img class="avatar-img" src="/images/avatar/thanhlv.jpg" alt="Lê Văn Thành" data-v-4c50b85b></figure><div class="data" data-v-4c50b85b><h1 class="name" data-v-4c50b85b>Lê Văn Thành</h1><p class="affiliation" data-v-4c50b85b><span class="title" data-v-4c50b85b>Java engineer và App engineer tại Line</span><!----><!----></p><!----><div class="links" data-v-4c50b85b><div class="VPSocialLinks" data-v-4c50b85b data-v-a14f2e61><!--[--><a class="VPSocialLink no-icon" href="https://github.com/lethanh9398" aria-label="github" target="_blank" rel="noopener" data-v-a14f2e61 data-v-2dba762f><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg></a><a class="VPSocialLink no-icon" href="https://linkedin.com/in/thanhlv-com" aria-label="linkedin" target="_blank" rel="noopener" data-v-a14f2e61 data-v-2dba762f><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>LinkedIn</title><path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"/></svg></a><a class="VPSocialLink no-icon" href="https://www.facebook.com/lethanh9398" aria-label="facebook" target="_blank" rel="noopener" data-v-a14f2e61 data-v-2dba762f><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>Facebook</title><path d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"/></svg></a><!--]--></div></div></div></div><!----></article></div><!--]--></div></div></div><!--]--><!--]--><!--]--></div></div><!----><div style="display:flex;" data-v-81aadc3d><p data-v-81aadc3d><a target="_blank" href="//www.dmca.com/Protection/Status.aspx?ID=8febc2ec-f016-49e9-8483-8b1afed383d4&amp;cdnrdr=1&amp;refurl=/study/thanhlv-study-2024/2024-05-16-cai-dat-kafka-voi-zookeeper-hoac-KRaft.html" title="DMCA.com Protection Status" class="dmca-badge"><img style="margin:auto;" class="no-zoom" src="https://images.dmca.com/Badges/dmca_protected_sml_120m.png?ID=8febc2ec-f016-49e9-8483-8b1afed383d4" alt="DMCA.com Protection Status"></a></p><!----><p class="VPLastUpdated" data-v-81aadc3d data-v-418ce2c4>Cập nhật lần cuối: <time datetime="2024-12-15T15:12:09.000Z" data-v-418ce2c4></time></p></div></main><!--[--><!--]--><footer class="VPContentDocFooter" data-v-81aadc3d data-v-e24d455a><a class="prev-link" href="/study/thanhlv-study-2024/2024-04-25-tim-hieu-lich-su-va-muc-dich-cua-kafka.html" data-v-e24d455a><span class="desc" data-v-e24d455a><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="vt-link-icon" data-v-e24d455a><path d="M15,19c-0.3,0-0.5-0.1-0.7-0.3l-6-6c-0.4-0.4-0.4-1,0-1.4l6-6c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4L10.4,12l5.3,5.3c0.4,0.4,0.4,1,0,1.4C15.5,18.9,15.3,19,15,19z"></path></svg> Bài trước</span><span class="title" data-v-e24d455a>Tìm hiểu lịch sử và mục đích của kafka</span></a><!----></footer></div></div></div></div><div class="visually-hidden" aria-live="polite" data-v-06370823>Cài đặt Kafka với Zookeeper và Kraft has loaded</div></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"blog_2024-01-16-su-khac-biet-giua-import-wildcard-va-import-mot-class-trong-java.md\":\"cdcMNlxH\",\"blog_2024-01-10-concurrency-va-parallelism-giai-thich-concurrency-va-parallelism-cua-os-va-business-khac-gi-nhau.md\":\"bQ4wQt0s\",\"about_author_thanhlv_todo-list.md\":\"6WBAQTXd\",\"blog_2024-01-09-cpu-core-and-thread-khac-gi-nhau.md\":\"65ZuSRQU\",\"about_author_thanhlv_my-note.md\":\"bxQr_G9j\",\"blog_2024-01-26-thread-ung-dung-phan-mem-va-thread-hardware-cpu-khac-gi-nhau.md\":\"hRASeHWr\",\"blog_2024-01-31-tim-hieu-ve-design-pattern.md\":\"uyM067MX\",\"blog_2024-02-01-tim-hieu-ve-architecture.md\":\"jv3MScTA\",\"blog_2024-01-11-them-10-trieu-data-vao-cuoi-list-voi-array-list-va-linked-list-trong-java-thi-dung-cai-nao-nhanh-hon.md\":\"iQPwITJt\",\"blog_2024-12-04-so-sanh-restfull-api-va-grpc-khi-nao-su-dung.md\":\"KEr_i6vZ\",\"blog_2024-02-29-su-khac-biet-giua-design-patternsva-architechture.md\":\"eEXZNpx5\",\"study_thanhlv-study-2024_2024-03-14-internet-internet-hoat-dong-nhu-the-nao.md\":\"8CFhgkpL\",\"short-blog_gioi-thieu.md\":\"cbOcUXHW\",\"blog_2024-01-18-thread-safe-va-lock-object-la-gi.md\":\"DGJQoNlF\",\"blog_2024-12-05-y-nghia-cua-cac-http-status-code.md\":\"hVMvUtN7\",\"blog_2024-07-16-cac-cau-hoi-phong-van.md\":\"dxK9ouye\",\"index.md\":\"LEYHdYY4\",\"blog_gioi-thieu.md\":\"RJkpinlh\",\"blog_2024-10-09-fallacies-of-distributed-computing-nhung-sai-lam-cua-khi-su-dung-distributed-computing.md\":\"f_CxgPEU\",\"study_thanhlv-study-2024_2024-04-02-htpp-la-gi.md\":\"boynM5YI\",\"short-blog_2024-11-08-trong-java-6-7-8-loi-illegal-key-size-khi-dung-cipher-chua-chac-phai-do-ban-code-sai.md\":\"LP5v-796\",\"blog_2024-08-07-kafka-producer-da-khong-con-round-robin-partition-voi-key-null.md\":\"AiVbHWXY\",\"short-blog_2024-11-01-chung-toi-da-bi-tan-cong-phong-thu-thanh-cong-nhung-co-status-dac-biet-can-dieu-tra.md\":\"rjf_XLsj\",\"study_thanhlv-study-2024_2024-05-16-cai-dat-kafka-voi-zookeeper-hoac-kraft.md\":\"79ooc3OV\",\"study_thanhlv-study-2024_2024-04-19-stream-la-gi.md\":\"Sw7MwXD2\",\"study_thanhlv-study-2024_2024-04-16-event-la-gi.md\":\"6jeY4JMG\",\"study_thanhlv-study-2024_2024-03-18-world-wide-web-la-gi.md\":\"DccSNJeZ\",\"study_thanhlv-study-2024_2024-06-10-kafka-brokers.md\":\"InFygNTx\",\"about_author_thanhlv-vi.md\":\"IL4XTNMd\",\"blog_2024-01-17-sua-loi-404-khi-deploy-mot-so-ung-dung-web-single-page-application-voi-nginx.md\":\"Ykf7nsAt\",\"study_thanhlv-study-2024_2024-04-21-event-stream-va-event-stream-platform-la-gi.md\":\"Wnkc6loc\",\"study_thanhlv-study-2024_2024-04-24-so-sanh-message-va-event.md\":\"TM5TdTds\",\"short-blog_2024-12-06-ngan-hang-van-chua-ap-dung-cong-nghe-cho-quy-trinh-de-phuc-vu-khach-hang.md\":\"wC_aHTq7\",\"study_thanhlv-study-2024_2024-04-25-tim-hieu-lich-su-va-muc-dich-cua-kafka.md\":\"quel9daG\",\"study_tieng-anh_gioi-thieu.md\":\"8Uu8DGP8\",\"study_thanhlv-study-2024_gioi-thieu-ve-muc-tieu-hoc-tap-be-nam-2024-cua-thanh-lv.md\":\"qtE3lHDp\",\"study_thanhlv-study-2024_2024-04-15-message-la-gi.md\":\"6VKtXxze\",\"study_thanhlv-study-2024_2024-04-15-message-queue-la-gi.md\":\"HJAKngQw\",\"study_tieng-anh_cac-tu-vung.md\":\"x9iKDqIH\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"en-US\",\"dir\":\"ltr\",\"title\":\"Yêu công nghệ - Khám Phá Công Nghệ - Thanhlv.com\",\"description\":\"Thanhlv.com - Nơi chia sẻ kiến thức yêu công nghệ và học hỏi công nghệ. Cập nhật những bài viết, hướng dẫn chi tiết về lập trình, công nghệ thông tin và những công nghệ mới nhất.\",\"base\":\"/\",\"head\":[],\"router\":{\"prefetchLinks\":true},\"appearance\":true,\"themeConfig\":{\"nav\":[{\"text\":\"Blog\",\"activeMatch\":\"^/blog/\",\"link\":\"/blog/gioi-thieu\"},{\"text\":\"Short Blog\",\"activeMatch\":\"^/short-blog/\",\"link\":\"/short-blog/gioi-thieu\"},{\"text\":\"Study\",\"activeMatch\":\"^/study/\",\"items\":[{\"text\":\"Học tập BE Thanhlv 2024\",\"link\":\"/study/thanhlv-study-2024/gioi-thieu-ve-muc-tieu-hoc-tap-be-nam-2024-cua-thanh-lv\"},{\"text\":\"Tiếng anh\",\"link\":\"/study/tieng-anh/gioi-thieu\"}]},{\"text\":\"About\",\"activeMatch\":\"^/about/\",\"items\":[{\"text\":\"Thanhlv\",\"link\":\"/about/author/thanhlv-vi\"}]}],\"sidebar\":{\"/blog/\":[{\"text\":\"\",\"items\":[{\"text\":\"Giới thiệu\",\"link\":\"/blog/gioi-thieu\"},{\"text\":\"So sánh RESTful API và gRPC. Khi nào sử dụng?\",\"date\":\"2024-12-04T00:00:00.000Z\",\"link\":\"/blog/2024-12-04-so-sanh-restfull-api-va-grpc-khi-nao-su-dung.html\"},{\"text\":\"Fallacies of distributed computing - Những sai lầm khi sử dụng distributed computing\",\"date\":\"2024-10-09T00:00:00.000Z\",\"link\":\"/blog/2024-10-09-Fallacies-of-distributed-computing-nhung-sai-lam-cua-khi-su-dung-distributed-computing.html\"},{\"text\":\"Kafka producer đã không còn Round Robin Partition với key null\",\"date\":\"2024-07-16T00:00:00.000Z\",\"link\":\"/blog/2024-08-07-Kafka-producer-da-khong-con-Round-Robin-Partition-voi-key-null.html\"},{\"text\":\"Sự khác biệt giữa Design Pattern và Software Architecture.\",\"date\":\"2024-02-29T00:00:00.000Z\",\"link\":\"/blog/2024-02-29-su-khac-biet-giua-design-patternsva-architechture.html\"},{\"text\":\"Tìm hiểu về Architecture\",\"date\":\"2024-02-01T00:00:00.000Z\",\"link\":\"/blog/2024-02-01-tim-hieu-ve-architecture.html\"},{\"text\":\"Tìm hiểu về Design Pattern\",\"date\":\"2024-01-31T00:00:00.000Z\",\"link\":\"/blog/2024-01-31-tim-hieu-ve-design-pattern.html\"},{\"text\":\"Thread ứng dụng phần mềm và Thread hardware CPU khác gì nhau\",\"date\":\"2024-01-26T00:00:00.000Z\",\"link\":\"/blog/2024-01-26-thread-ung-dung-phan-mem-va-thread-hardware-cpu-khac-gi-nhau.html\"},{\"text\":\"Thread safe, Lock object là gì ?\",\"date\":\"2024-01-18T00:00:00.000Z\",\"link\":\"/blog/2024-01-18-thread-safe-va-lock-object-la-gi.html\"},{\"text\":\"Sửa lỗi 404 khi deploy một số ứng dụng web Single Page Application với Nginx\",\"date\":\"2024-01-17T00:00:00.000Z\",\"link\":\"/blog/2024-01-17-sua-loi-404-khi-deploy-mot-so-ung-dung-web-single-page-application-voi-nginx.html\"},{\"text\":\"Sự khác biệt giữa import wildcard và import một class trong java\",\"date\":\"2024-01-16T00:00:00.000Z\",\"link\":\"/blog/2024-01-16-su-khac-biet-giua-import-wildcard-va-import-mot-class-trong-java.html\"},{\"text\":\"Thêm 10 triệu data vào cuối list với ArrayList và LinkedList trong java thì dùng cái nào nhanh hơn\",\"date\":\"2024-01-11T00:00:00.000Z\",\"link\":\"/blog/2024-01-11-them-10-trieu-data-vao-cuoi-list-voi-array-list-va-linked-list-trong-java-thi-dung-cai-nao-nhanh-hon.html\"},{\"text\":\"Concurrency và parallelism. Giải thích Concurrency và parallelism của OS và business khác gì nhau ?.\",\"date\":\"2024-01-10T00:00:00.000Z\",\"link\":\"/blog/2024-01-10-concurrency-va-parallelism-giai-thich-concurrency-va-parallelism-cua-os-va-business-khac-gi-nhau.html\"},{\"text\":\"CPU, CORE và Thread khác gì nhau ?\",\"date\":\"2024-01-09T00:00:00.000Z\",\"link\":\"/blog/2024-01-09-cpu-core-and-thread-khac-gi-nhau.html\"}]}],\"/short-blog/\":[{\"text\":\"\",\"items\":[{\"text\":\"Giới thiệu\",\"link\":\"/short-blog/gioi-thieu\"},{\"text\":\"Ngân hàng vẫn chưa áp dụng công nghệ tốt cho quy trình để phục vụ khách hàng\",\"date\":\"2024-12-06T00:00:00.000Z\",\"link\":\"/short-blog/2024-12-06-ngan-hang-van-chua-ap-dung-cong-nghe-cho-quy-trinh-de-phuc-vu-khach-hang.html\"},{\"text\":\"Trong java 6 7 8 lỗi Illegal key size khi dùng Cipher chưa chắc phải do bạn code sai mà là do Java Policy JCE.\",\"date\":\"2024-11-08T00:00:00.000Z\",\"link\":\"/short-blog/2024-11-08-trong-java-6-7-8-loi-Illegal-key-size-khi-dung-Cipher-chua-chac-phai-do-ban-code-sai.html\"},{\"text\":\"Chúng tôi đã bị tấn công, phòng thủ thành công nhưng có status đặc biệt cần điều tra\",\"date\":\"2024-11-01T00:00:00.000Z\",\"link\":\"/short-blog/2024-11-01-chung-toi-da-bi-tan-cong-phong-thu-thanh-cong-nhung-co-status-dac-biet-can-dieu-tra.html\"}]}],\"/study/thanhlv-study-2024\":[{\"text\":\"Giới thiệu\",\"group\":\"Giới thiệu\",\"date\":\"2024-02-1\",\"items\":[{\"text\":\"Mục tiêu công nghệ của Thanhlv năm 2024\",\"date\":\"2024-02-1\",\"link\":\"/study/thanhlv-study-2024/gioi-thieu-ve-muc-tieu-hoc-tap-be-nam-2024-cua-thanh-lv.html\",\"group\":\"Giới thiệu\"}]},{\"text\":\"1. Internet\",\"group\":\"1. Internet\",\"date\":\"2024-03-14T00:00:00.000Z\",\"items\":[{\"text\":\"Internet hoạt động như thế nào?\",\"date\":\"2024-03-14T00:00:00.000Z\",\"link\":\"/study/thanhlv-study-2024/2024-03-14-Internet-Internet-hoat-dong-nhu-the-nao.html\",\"group\":\"1. Internet\"},{\"text\":\"World wide web là gì ?\",\"date\":\"2024-03-18T00:00:00.000Z\",\"link\":\"/study/thanhlv-study-2024/2024-03-18-world-wide-web-la-gi.html\",\"group\":\"1. Internet\"},{\"text\":\"HTTP là gì?\",\"date\":\"2024-04-02T00:00:00.000Z\",\"link\":\"/study/thanhlv-study-2024/2024-04-02-htpp-la-gi.html\",\"group\":\"1. Internet\"}]},{\"text\":\"2. Message and event stream\",\"group\":\"2. Message and event stream\",\"date\":\"2024-04-15T00:00:00.000Z\",\"items\":[{\"text\":\"Message là gì ?\",\"date\":\"2024-04-15T00:00:00.000Z\",\"link\":\"/study/thanhlv-study-2024/2024-04-15-message-la-gi.html\",\"group\":\"2. Message and event stream\"},{\"text\":\"Message queue là gì ?\",\"date\":\"2024-04-15T00:00:00.000Z\",\"link\":\"/study/thanhlv-study-2024/2024-04-15-message-queue-la-gi.html\",\"group\":\"2. Message and event stream\"},{\"text\":\"Event là gì ?\",\"date\":\"2024-04-16T00:00:00.000Z\",\"link\":\"/study/thanhlv-study-2024/2024-04-16-event-la-gi.html\",\"group\":\"2. Message and event stream\"},{\"text\":\"Stream là gì ?\",\"date\":\"2024-04-19T00:00:00.000Z\",\"link\":\"/study/thanhlv-study-2024/2024-04-19-stream-la-gi.html\",\"group\":\"2. Message and event stream\"},{\"text\":\"Event stream và Event stream platform là gì ?\",\"date\":\"2024-04-21T00:00:00.000Z\",\"link\":\"/study/thanhlv-study-2024/2024-04-21-event-stream-va-event-stream-platform-la-gi.html\",\"group\":\"2. Message and event stream\"},{\"text\":\"So sánh Message và Event.\",\"date\":\"2024-04-24T00:00:00.000Z\",\"link\":\"/study/thanhlv-study-2024/2024-04-24-so-sanh-message-va-event.html\",\"group\":\"2. Message and event stream\"}]},{\"text\":\"2.1 Kafka\",\"group\":\"2.1 Kafka\",\"date\":\"2024-04-24T00:00:00.000Z\",\"items\":[{\"text\":\"Tìm hiểu lịch sử và mục đích của kafka\",\"date\":\"2024-04-24T00:00:00.000Z\",\"link\":\"/study/thanhlv-study-2024/2024-04-25-tim-hieu-lich-su-va-muc-dich-cua-kafka.html\",\"group\":\"2.1 Kafka\"},{\"text\":\"Cài đặt Kafka với Zookeeper và Kraft\",\"date\":\"2024-05-16T00:00:00.000Z\",\"link\":\"/study/thanhlv-study-2024/2024-05-16-cai-dat-kafka-voi-zookeeper-hoac-KRaft.html\",\"group\":\"2.1 Kafka\"}]}],\"/study/tieng-anh\":[{\"text\":\"\",\"items\":[{\"text\":\"Giới thiệu\",\"date\":\"2024-03-14T00:00:00.000Z\",\"link\":\"/study/tieng-anh/gioi-thieu.html\"},{\"text\":\"Các từ vựng\",\"date\":\"2024-04-15T00:00:00.000Z\",\"link\":\"/study/tieng-anh/cac-tu-vung.html\"}]}],\"/about/author/thanhlv\":[{\"text\":\"Thông tin\",\"items\":[{\"text\":\"Cv Vietnames\",\"link\":\"/about/author/thanhlv-vi\"}]},{\"text\":\"Và....\",\"items\":[{\"text\":\"My note\",\"link\":\"/about/author/thanhlv/my-note.html\"},{\"text\":\"TODO list\",\"link\":\"/about/author/thanhlv/todo-list.html\"}]}]},\"algolia\":{\"indexName\":\"thanhlv\",\"appId\":\"O2PN3Z02M2\",\"apiKey\":\"b8303151f5f69276a688c1531f5cc803\",\"placeholder\":\"Tìm kiếm\",\"translations\":{\"button\":{\"buttonText\":\"Tìm kiếm\",\"buttonAriaLabel\":\"Tìm kiếm\"},\"modal\":{\"searchBox\":{\"resetButtonTitle\":\"Xóa tìm kiếm\",\"resetButtonAriaLabel\":\"Xóa tìm kiếm\",\"cancelButtonText\":\"Hủy tìm kiếm\",\"cancelButtonAriaLabel\":\"Hủy tìm kiếm\"},\"startScreen\":{\"recentSearchesTitle\":\"Gần đây\",\"noRecentSearchesText\":\"Không có tìm kiếm gần đây\",\"saveRecentSearchButtonTitle\":\"Lưu kết quả tìm kiếm này\",\"removeRecentSearchButtonTitle\":\"Xóa tìm kiếm này khỏi lịch sử\",\"favoriteSearchesTitle\":\"Yêu thích\",\"removeFavoriteSearchButtonTitle\":\"Xóa tìm kiếm này khỏi mục yêu thích\"},\"errorScreen\":{\"titleText\":\"Không tìm thấy kết quả\",\"helpText\":\"Dữ liệu không tồn tại hoặc kết nối mạng của bạn có vấn đề, vui lòng kiểm tra\"},\"footer\":{\"selectText\":\"Chọn để đọc\",\"navigateText\":\"Điều hướng\",\"closeText\":\"Đóng\",\"searchByText\":\"Tìm kiểm bởi\"},\"noResultsScreen\":{\"noResultsText\":\"Không có kết quả cho\",\"suggestedQueryText\":\"Hãy thử tìm kiếm\",\"reportMissingResultsText\":\"Bạn tin rằng truy vấn này sẽ trả về kết quả?\",\"reportMissingResultsLinkText\":\"Hãy cho tôi biết.\"}}}},\"i18n\":{\"toc\":\"Trên trang này\",\"previous\":\"Bài trước\",\"next\":\"Bài tiếp theo\",\"search\":\"Tìm kiếm\",\"returnToTop\":\"Cuộn lên đầu trang\"},\"footer\":{\"license\":{\"text\":\"MIT License\",\"link\":\"https://opensource.org/licenses/MIT\"},\"copyright\":\"Copyright © 2022-2024 ThanhLv\"}},\"locales\":{},\"scrollOffset\":[\"header\",\".VPLocalNav\"],\"cleanUrls\":false}");</script>
    
  </body>
</html>