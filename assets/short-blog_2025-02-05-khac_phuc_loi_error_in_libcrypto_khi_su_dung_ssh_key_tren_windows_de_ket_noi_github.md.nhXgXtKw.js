import{_ as i,j as s,o as n,v as a}from"./chunks/framework.OuVixYWh.js";const t=JSON.parse('{"title":"Khắc phục lỗi “error in libcrypto” khi sử dụng SSH key trên Windows để kết nối GitHub","description":"Hướng dẫn khắc phục lỗi “error in libcrypto” khi copy private key từ macOS sang Windows để pull/push code trên GitHub bằng cách tái tạo passphrase cho SSH key.","frontmatter":{"footer":true,"title":"Khắc phục lỗi “error in libcrypto” khi sử dụng SSH key trên Windows để kết nối GitHub","description":"Hướng dẫn khắc phục lỗi “error in libcrypto” khi copy private key từ macOS sang Windows để pull/push code trên GitHub bằng cách tái tạo passphrase cho SSH key.","authors":["lethanh"],"date":"2025-02-05T00:00:00.000Z","outline":"deep","image":"/assets/ssh-key-fix.keRxdqGK.svg","draft":false},"headers":[{"level":2,"title":"Nguyên nhân","slug":"nguyen-nhan","link":"#nguyen-nhan","children":[]},{"level":2,"title":"Giải pháp: Tái tạo lại private key trên Windows","slug":"giai-phap-tai-tao-lai-private-key-tren-windows","link":"#giai-phap-tai-tao-lai-private-key-tren-windows","children":[]},{"level":2,"title":"Các bước thực hiện","slug":"cac-buoc-thuc-hien","link":"#cac-buoc-thuc-hien","children":[]},{"level":2,"title":"Kết quả","slug":"ket-qua","link":"#ket-qua","children":[]},{"level":2,"title":"Lưu ý","slug":"luu-y","link":"#luu-y","children":[]}],"relativePath":"short-blog/2025-02-05-khac_phuc_loi_error_in_libcrypto_khi_su_dung_ssh_key_tren_windows_de_ket_noi_github.md","filePath":"short-blog/2025-02-05-khac_phuc_loi_error_in_libcrypto_khi_su_dung_ssh_key_tren_windows_de_ket_noi_github.md","lastUpdated":1748360452000}'),h={name:"short-blog/2025-02-05-khac_phuc_loi_error_in_libcrypto_khi_su_dung_ssh_key_tren_windows_de_ket_noi_github.md"},e=[a('<h1 id="khac-phuc-loi-error-in-libcrypto-khi-su-dung-ssh-key-tren-windows-đe-ket-noi-github" tabindex="-1">Khắc phục lỗi “error in libcrypto” khi sử dụng SSH key trên Windows để kết nối GitHub <a class="header-anchor" href="#khac-phuc-loi-error-in-libcrypto-khi-su-dung-ssh-key-tren-windows-đe-ket-noi-github" aria-label="Permalink to &quot;Khắc phục lỗi “error in libcrypto” khi sử dụng SSH key trên Windows để kết nối GitHub&quot;">​</a></h1><p>Trong quá trình làm việc với GitHub, tôi đã sử dụng <strong>openssh</strong> để tạo cặp <strong>private key</strong> và <strong>public key</strong> trên máy macOS nhằm kết nối và thực hiện pull/push code. Trên máy Mac, mọi thứ đều hoạt động ổn định. Tuy nhiên, khi copy private key đó sang máy Windows, tôi gặp phải lỗi:</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git@github.com:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Permission</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> denied</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (publickey)</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>Cụ thể, khi chạy lệnh:</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">D:\\&gt;git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> clone</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> git@github.com:lethanh9398/curl-self-test.git</span></span>\n<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Cloning</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> into</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;curl-self-test&#39;...</span></span>\n<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Warning:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Permanently</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> added</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;github.com&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (ED25519) to the list of known hosts.</span></span>\n<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Load</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> key</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;/c/Users/solit/.ssh/data/github/lethanh9398/id_ed25519&quot;:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> error</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> in</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> libcrypto</span></span>\n<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git@github.com:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Permission</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> denied</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (publickey).</span></span>\n<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">fatal:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Could</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> not</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> read</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> remote</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> repository.</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>Sau khi đọc tài liệu <a href="https://docs.github.com/en/authentication/troubleshooting-ssh/error-permission-denied-publickey" target="_blank" rel="noreferrer">trên GitHub</a> và thử một số cách khắc phục, tôi vẫn không thể giải quyết được vấn đề.</p><h2 id="nguyen-nhan" tabindex="-1">Nguyên nhân <a class="header-anchor" href="#nguyen-nhan" aria-label="Permalink to &quot;Nguyên nhân&quot;">​</a></h2><p>Qua quá trình nghiên cứu, tôi nhận ra rằng openssh trên Windows và macOS có sự khác nhau về cách hoạt động và phiên bản. Sự khác biệt này đôi khi dẫn đến lỗi khi Windows cố gắng đọc private key được tạo trên macOS, cụ thể là <code>lỗi error in libcrypto</code>.</p><img src="https://www.plantuml.com/plantuml/svg/PLAnRi8m4Dtz5QTqWQ4_m82Ga5ga8e7AqA5KbOaDEP7OaNEXpJzqwTIXwe3OAbLYw0GZ5V-HVacTE0fG9f_kthjtzywTXBYXD0fPfuu8APJm-_42_NpxXk19OxG1L13Yn3TPJDe3ChjF1NUeX7vA68ij5tsCkIBmgknONID1DqIfo0EU5EXJu22MQZJgZPMkMvN0AlzuHXWQN72IS2EpiMf4t1-Cu4gRY5Ep95PrMpxbsK5wwQI4k90nsniksyTIBUXhBY2kDEOoWqfYwYJO4RZW7jHQS2ijrLBO8NdMlh3qtCl_NMleK9e8amIjEK8gb08QSJe9qRSoJJV__OMHug5TBULeNPs60fGcu2a5rdlqxJoCsOm4WxE0G4_BMxZpFkURLGQ6Wz0dkxEVr_qwtwvye7oprDN5dI7pOFUjPi1elzulRK31xiiFO95ltx7-55ALOrZfZWtBF-RUFm00" alt="uml diagram"><h2 id="giai-phap-tai-tao-lai-private-key-tren-windows" tabindex="-1">Giải pháp: Tái tạo lại private key trên Windows <a class="header-anchor" href="#giai-phap-tai-tao-lai-private-key-tren-windows" aria-label="Permalink to &quot;Giải pháp: Tái tạo lại private key trên Windows&quot;">​</a></h2><p>Để khắc phục lỗi, bạn có thể sử dụng lệnh sau trên Windows để thay đổi (tái tạo) passphrase của private key:</p><img src="https://www.plantuml.com/plantuml/svg/RLB1IWCn4BtdAuRUzmTwa887XOAAFNWfb3IRRa9tax19bIBUzEH943meI14F2b8z2Rl7LVyZVe6VuEnshQljAPENzsPUPgPZ7KtT98b9PnavwM8ENxUNfz0LFfipCCBdzmnYdrz96FhiHKN0YXaJu8gP1EUpcGP3hJKYfPOJOZ2LPD9GvQ1r85MeZsnVRKa7cx7aohM0Ma3yBt7NSDNhRVULLb2BAcAD3rO4Uwayf8v3bqyhOdt7Ao58Xc2ZgMs3jI8Oysd4ySb0C89Zir0C41qOwiG9QGXAVQNRmJOycSOFWRq_hAsmoanyVYr1Q9-zCeYap-UWeicqU5J_I_swRo-wly_HAK_B7w8_aCkk14mdw5OESKuZdIRKhRNzUNFsaxHAC34XXY4XIYEIoaWuqADg3atQsyN7iy_lM7Eun0ckySNdvqf0Y1YkGEq6I2IBpC1uTLa8Lo6KrGZfO5ZjsUBy1W00" alt="uml diagram"><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ssh-keygen</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -p</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -f</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> {đường_dẫn_tới_private_key}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>Trong đó:</p><ul><li>-p dùng để thay đổi passphrase.</li><li>-f chỉ định đường dẫn tới file private key của bạn. Lệnh này sẽ yêu cầu bạn nhập passphrase cũ, sau đó cho phép bạn nhập passphrase mới. Bạn có thể nhập lại passphrase cũ nếu muốn. Quá trình này sẽ tái tạo lại file private key theo định dạng phù hợp với openssh trên Windows, giúp khắc phục lỗi <code>error in libcrypto</code>.</li></ul><h2 id="cac-buoc-thuc-hien" tabindex="-1">Các bước thực hiện <a class="header-anchor" href="#cac-buoc-thuc-hien" aria-label="Permalink to &quot;Các bước thực hiện&quot;">​</a></h2><ol><li><p>Backup private key: Trước khi tiến hành thay đổi, bạn nên sao lưu file private key để tránh mất dữ liệu nếu có sự cố xảy ra.</p></li><li><p>Chạy lệnh thay đổi passphrase: Mở terminal hoặc Command Prompt trên Windows và chạy lệnh:</p></li></ol><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ssh-keygen</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -p</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -f</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /c/Users/solit/.ssh/data/github/lethanh9398/id_ed25519</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><ol start="3"><li>Nhập passphrase:</li></ol><ul><li>Nhập passphrase cũ khi được yêu cầu.</li><li>Khi được yêu cầu nhập passphrase mới, bạn có thể nhập lại passphrase cũ hoặc nhập passphrase mới theo ý bạn</li></ul><div class="tip custom-block"><p class="custom-block-title">điền mật khẩu cũ và mới trong câu lệnh luôn</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ssh-keygen</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -p</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -f</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;C:\\Users\\solit\\.ssh\\data\\github\\solitarysp\\id_ed25519.key&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -P</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;old_pass&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -N</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;new_pass&quot;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div></div><ol start="4"><li>Kiểm tra lại kết nối: Sau khi tái tạo lại private key, thử chạy lại lệnh <code>git clone</code>, <code>git pull</code> hoặc <code>git push</code> để kiểm tra kết nối đến GitHub.</li></ol><img src="https://www.plantuml.com/plantuml/svg/PPBFIiD04CRl-nIVFIaetdkG5a4BBIZsuAKWsyqsMPfkGdPJwLbyW8BWHL4GRug2dfg3XuZl4P_0Ht3on_wnbsIOVB_v9ZFJC9P7DXxvh36FhBA-nFVD9ThPxCD2PybKuL3PLjo7zT9xxK6axzg5uJ66deB9acSEFqkk5MCXbL52XLnRr4wLTe9pqzE4OzzNKjiQk07bLuL7eTJTRgkd0uqAAeHL_cmDE8xKc5k9jfpqz6Q5u228Hjnk5MYb8C4gMVv98Ib3nWZ7pjwoMHsTW3i8AvUXd61kCYXDs98yfnT-TPn8WWbYY-IQGJxXRYo4DEP_gVdtdFEf4Ud0bD91xFkJluRB_klukRkQeXbRZ-QhHDxmM75GGLQjRRbciwW3Dw9fI6U3CHqG42dNimW6nMew-IhnEKqVwF7rcYKFWXQTpLu4GYzB7iKsc4ZVw1gov08XjRGRneRE8d0a-kaJNOZrSkvMkqng1xa5OmqAYrihtxy0" alt="uml diagram"><h2 id="ket-qua" tabindex="-1">Kết quả <a class="header-anchor" href="#ket-qua" aria-label="Permalink to &quot;Kết quả&quot;">​</a></h2><p>Sau khi thực hiện các bước trên, tôi đã pull và push code lên GitHub thành công mà không gặp lỗi</p><h2 id="luu-y" tabindex="-1">Lưu ý <a class="header-anchor" href="#luu-y" aria-label="Permalink to &quot;Lưu ý&quot;">​</a></h2><ul><li><strong>Sao lưu private key</strong>: Luôn luôn backup private key trước khi thay đổi để tránh mất mát dữ liệu quan trọng.</li><li><strong>Đồng bộ môi trường</strong>: Khi chuyển đổi giữa các hệ điều hành, hãy lưu ý rằng các phiên bản và cách thức hoạt động của openssh có thể khác nhau. Việc tái tạo lại key theo định dạng phù hợp với từng hệ điều hành sẽ giúp tránh được các lỗi không mong muốn.</li></ul>',27)];const l=i(h,[["render",function(i,a,t,h,l,p){return n(),s("div",null,e)}]]);export{t as __pageData,l as default};
